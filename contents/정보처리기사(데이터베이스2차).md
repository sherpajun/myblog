---
date: '2022-01-24'
title: '정보처리기사 데이터베이스 구축 2'
categories: ['정보처리기사', 'Study', 'Start', 'Markdown', 'SQL']
summary: '정보처리기사 스터디 4일차'
thumbnail: './정보처리기사.PNG'
---

### 1. 2022년 01월 24일 정보처리기사

<h1>기본 SQL 작성</h1><br>

# 1. <span style ="color:red">데이터 정의어

- 데이터 정의어 (DDL; Data Definition Language)의 개념

  - 데이터 저의어는 데이터를 정의하는 언어로서 '데이터를 담는 그릇을 정의하는 언어'이다.
  - 테이블과 같은 데이터 구조를 저의하는 데 사용되는 명령어들로 특정 구조를 생성, 변경, 삭제, 이름을 바꾸는 데이터 구조와 관련된 명령어들을 데이터 정의어라고 부른다.

- DDL의 대상

  - DDL 대상에는 도메인, 스키마, 테이블, 뷰, 인덱스가 있다.

  | DDL 대상 | 설명                                                                                                                                    |
  | -------- | --------------------------------------------------------------------------------------------------------------------------------------- |
  | 도메인   | 하나의 속성이 가질 수 있는 원자값들의 집합<br> 속성의 데이터 타입과 크기, 제약조건 등의 정보                                            |
  | 스키마   | 데이터베이스의 구조, 제약조건 등의 정보를 담고 있는 기본적인 구조<br>스키마는 외부/개념/내부 3계층으로 구성되어 있음(상세내용 각주참고) |
  | 테이블   | 데이터저장공간                                                                                                                          |
  | 뷰       | 하나이상의 물리 테이블에서 유도되는 가상의 테이블                                                                                       |
  | 인덱스   | 검색을 빠르게 하기 위한 데이터구조                                                                                                      |

  ```
  외부스키마-> 사용자나 개발자의 관점에서 필요로 하는 데이터베이스의 논리적 구조
           -> 사용자 뷰를 나타냄
           -> 서브 스키마로 불림
  개념 스키마-> 데이터베이스의 전체적인 논리적 구조
            -> 전체적인 뷰를 나타냄
            -> 개체간의 관계, 제약조건, 접근권한, 무결성, 보안에 대해 정의
  내부 스키마-> 물리적 저장장치의 관점에서 보는 데이터베이스 구조
            -> 실제로 데이터베이스에 저장될 레코드의 형식을 정의하고 저장 데이터 항목의 표현 방법, 내부 레코드의 물리적 순서 등을 표현
  ```

- DDL 명령어

  - DDL 명령어는 CREATE, ALTER, DROP, TRUNCATE가 있다.

  | 구분 | DDL 명령어       | 설명                                                          |
  | ---- | ---------------- | ------------------------------------------------------------- |
  | 생성 | CREATE           | 데이터베이스 오브젝트 생성                                    |
  | 수정 | ALTER            | 데이터베이스 오브젝트 변경                                    |
  | 삭제 | DROP<BR>TRUNCATE | 데이터베이스 오브젝트 삭제<BR>데이터베이스 오브젝트 내용 삭제 |

  - CREATE 명령어

  ```
  CREATE TABLE 테이블명
  (
    속성명 데이터타입[NOT NULL],
    PRIMARY KEY(기본키),
    UNIQUE(속성명,....),
    FOREIGN KEY(외래키) REFERENCES 참조테이블명(기본키),
    CONSTRAINT 제약조건명 CHECK(조건문),
  );
  ```

  ```
  CREATE TABLE 사원
  (
    이름 VARCHAR(10) NOT NULL,
    사번 VALUE(10) NOT NULL,
    생년월일 VARCHAR(8),
    입사일 DATE,
    PRIMARY KEY(사번),
    FOREIGN KEY(업무) REFERENCES 부서(부서코드),
    CONSTRAINT 나이제한 CHECK(생년월일<'19800101')
  );
  ```

  - CREATE TABLE 속성(제약조건)

  | 속성        | 설명                                                                                                               |
  | ----------- | ------------------------------------------------------------------------------------------------------------------ |
  | PRIMARY KEY | 테이블의 기본 키를 정의<BR> 유일하게 테이블의 각 행을 식별                                                         |
  | FOREIGN KEY | 외래 키를 정의<BR>참조 대상을 테이블(컬럼명)로 명시<BR>열과 참조된 테이블의 열 사이의 외래 키 관계를 적용하고 설정 |
  | UNIQUE      | 테이블 내에서 얻은 유일한 값을 갖도록 하는 속성                                                                    |
  | NOT BULL    | 해당 컬럼은 NULL 값을 포함하지 않도록 하는 속성                                                                    |
  | CHECK       | 개발자가 정의하는 제약조건<BR>참(TRUE)이어야 하는 조건을 지정                                                      |
  | DEFAULT     | 해당 필드의 기본값을 지정                                                                                          |

  - ALTER 명령어

  | 구분        | 문법                                                                     | 설명                                                                                 |
  | ----------- | ------------------------------------------------------------------------ | ------------------------------------------------------------------------------------ |
  | 컬럼 추가   | ALTER TABLE 테이블명 ADD 컬럼명 데이터\_타입;                            | 테이블에 필요한 컬럼을 추가하는 명령어                                               |
  | 컬럼 수정   | ALTER TABLE 테이블명 MODIFY 컬럼명 데이터\_타입 [DEFAULT 값] [NOT NULL]; | 기존 테이블에 존재하는 컬럼의 데이터 유형, 기본값, NOT NULL등의 제약조건에 대한 변경 |
  | 컬럼 삭제   | ALTER TABLE 테이블명 DROP 컬럼명                                         | 테이블에 존재하는 컬럼을 삭제하는 명령어                                             |
  | 컬럼명 수정 | ALTER TABLE 테이블명 RENAME COLUMN 변경전*컬럼명 TO 변경 후*컬럼명       | 테이블의 컬럼명을 변경하는 명령어                                                    |

  - ALTER TABLE 속성
  - CREATE TABLE의 속성에 사용되는 제약 조건인 PRIMARY KEY,FOREIGN KEY, UNIQUE, NOT NULL, CHECK, DEFAULT를 ALTER TABLE에서도 사용할 수 있다.
  - 테이블 생성을 위한 CREATE 문에 제약조건을 명시 후에 ALTER를 통해 테이블 제약조건의 변겨잉 가능하다.

  - DROP 명령어

    - DROP TABLE 테이블명 [CASCADE | RESTRICT]
    - DROP TABLE 명령어의 옵션에는 CASCADE와 RESTRICT가 있다.

    | 옵션     | 설명                                                               |
    | -------- | ------------------------------------------------------------------ |
    | CAESCADE | 테이블을 삭제하는 동안 해당 테이블의 모든 데이터를 삭제하는 명령어 |
    | RESTRICT | 다른 테이블이 삭제할 테이블을 참조 중이면 제거하지 않는 옵션       |

  - TRUNCATE 명령어
    - TRUNCATE TABLE 테이블명

# 2. 관계형 데이터 모델

- 관계형 데이터 모델 개념

  - 관계형 데이터 모델은 보편적인 데이터 모델로, 계층 모델과 망 모델의 복잡한 구조를 단순화 시킨 모델이다.
  - 관계 모델의 대표적 언어로는 SQL이다.
  - 데이터 간의 관계를 기본 키와 이를 참조하는 외래 키로 표현한다.
  - 테이블 간 관계를 1:1, 1:N, N:1, M:N으로 표현한다.

- 관계형 데이터 모델의 표현
  ![관계형 데이터 모델의 표현](./관계형.jpg)

  - 고객 테이블, 주문 테이블 , 주문서 테이블을 관계 데이터 모델로 표현한다.
  - 고객 테이블의 PRIMARY KEY 는 번호이고, 주문서 테이블의 PRIMARY KEY는 예약 번호이다.
  - 고객 테이블과 주문 테이블은 1:N 관계에 있고, 주문 테이블과 주문서 테이블은 1:1 관계에 있다.

- 관계형 데이터 모델과 개체-관계(E-R) 모델의 비교
  ![관계형 데이터 모델E-R](./E-R.jpg)

# 3. <span style ="color:red">트랜잭션(TRANSACTION)

- 트랜잭션의 개념

  - 트랜잭션은 데이터 베이스 시스템에서 하나의 논리적 기능을 정상적으로 수행하기 위한 작업의 기본 단위이다.
  - 트랜잭션은 인가 받지 않은 사용자로 부터 데이터를 보장하기 위해 DBMS가 가져야 하는 특성이다.

- 트랜잭션의 특징
  |특징|설명|주요기법|
  |---|---|---|
  |원자성(ATOMICITY)|트랜잭션을 구성하는 연산 전체가 모두 정상적으로 실행되거나, 모두 취소되어야 하는 성질<BR>트랜잭션의 연산 전체가 성공 또는 실패 되어야 하는 성질|COMMIT/ROLLBACK 회복성 보장|
  |일관성(CONSISTENCY)|시스템이 가지고 있는 고정요소는 트랜잭션 수행 전과 트랜잭션 수행 완료후의 상태가 같아야 하는 성질|무결성 제약조건<BR>동시성제어|
  |격리성=고립성(ISOLATION)|동시에 실행되는 트랜잭션들이 서로 영향을 미치지 않아야 한다는 성질|READ UNCOMMITTED<BR>READ COMMITTED<BR>REPEATABLE READ<BR>SERIALIZABLE|
  |영속성(DURAIBILITY)|성공이 완료된 트랜잭션의 결과는 영속적으로 데이터베이스에 저장되어야 하는 성질| 회복기법|

---
